#: import CanvasDrawing my_canvas.CanvasDrawing
#: import Animation kivy.animation.Animation


<ActiveMode>:
    orientation: 'vertical'
    MDLabel:
        on_kv_post: animation = Animation(pos_hint={'x': .75}, duration=3.)+Animation(pos_hint={'x': 0}, duration=3.); animation.repeat = True; animation.start(self)
        pos_hint: {'x': 0}
        size: self.texture_size
        id: monitor_label
        text: 'Active Mode'
        theme_text_color: "Primary"
        font_style: 'H4'
        valign: 'center'
        size_hint_y: .1
    CanvasDrawing:
        id: graphics_canvas
        widget_width: self.width
        widget_height: self.height
        widget_center_x: self.center_x
        widget_center_y: self.center_y
        bus_top: self.center_y + self.height*.4 - 70
        bus_left: self.center_x - self.width*.2 + 70
        bus_bottom: self.center_y - self.height*.4 + 70
        bus_right: self.center_x + self.width*.2 - 70
        boundary_top: self.center_y + self.height*.4
        boundary_left: self.center_x - self.width*.2
        boundary_bottom: self.center_y - self.height*.4
        boundary_right: self.center_x + self.width*.2
        dy: 80
        dx: 80
        top_offset: monitor_label.height
        monitor_screen: root.monitor_screen
        canvas.before:
            Rectangle:
                id: boundary_line
                source: 'assets/boundary.png'
                pos: self.center_x - self.width*.2, self.center_y - self.height*.4
                size: self.width*.4, self.height*.8
        canvas.after:
            Color:
                id: bus_color
                rgba: 1, 1, 1, .9
            Line:
                width: 4.
                rectangle: (self.center_x - self.width*.2 + 70, self.center_y - self.height*.4 + 70, self.width*.4 - 140, self.height*.8 - 140)
        Label:
            center: root.center
            text: 'Bus'
            font_size: 30
            theme_text_color: "Primary"
